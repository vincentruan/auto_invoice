# ä¾èµ–ç®¡ç†è¯´æ˜

## ğŸ¯ ä¸ºä»€ä¹ˆåªä½¿ç”¨ pyproject.tomlï¼Ÿ

æœ¬é¡¹ç›®é‡‡ç”¨ç°ä»£åŒ–çš„ Python ä¾èµ–ç®¡ç†æ–¹å¼ï¼Œåªä½¿ç”¨ `pyproject.toml` æ–‡ä»¶ï¼ŒåŸå› å¦‚ä¸‹ï¼š

### âœ… ä¼˜åŠ¿

1. **æ ‡å‡†åŒ–**: `pyproject.toml` æ˜¯ PEP 518 æ ‡å‡†ï¼Œæ˜¯ Python é¡¹ç›®çš„æœªæ¥
2. **åŠŸèƒ½å®Œæ•´**: æ”¯æŒé¡¹ç›®å…ƒæ•°æ®ã€æ„å»ºé…ç½®ã€å·¥å…·é…ç½®ç­‰
3. **uv åŸç”Ÿæ”¯æŒ**: uv å·¥å…·é“¾å®Œå…¨åŸºäº `pyproject.toml`
4. **å‡å°‘å†—ä½™**: é¿å…ç»´æŠ¤å¤šä¸ªä¾èµ–æ–‡ä»¶
5. **æ›´å¥½çš„ä¾èµ–è§£æ**: æ”¯æŒå¯é€‰ä¾èµ–ã€å¼€å‘ä¾èµ–ç­‰

### ğŸ“‹ ä¾èµ–ç®¡ç†æ–¹å¼

#### ç”Ÿäº§ä¾èµ–
```toml
[project]
dependencies = [
    "imapclient>=2.1.0",
    "requests>=2.28.0",
    "playwright>=1.40.0",
    "pytest>=7.0.0",
]
```

#### å¼€å‘ä¾èµ–
```toml
[project.optional-dependencies]
dev = [
    "pytest>=7.0.0",
    "pytest-cov>=4.0.0",
    "black>=23.0.0",
    "flake8>=6.0.0",
]
```

### ğŸš€ ä½¿ç”¨æ–¹æ³•

#### å®‰è£…ç”Ÿäº§ä¾èµ–
```bash
uv sync
```

#### å®‰è£…å¼€å‘ä¾èµ–
```bash
uv sync --extra dev
```

#### æ·»åŠ æ–°ä¾èµ–
```bash
uv add package-name
uv add --dev package-name  # å¼€å‘ä¾èµ–
```

#### ç§»é™¤ä¾èµ–
```bash
uv remove package-name
```

### ğŸ”„ ä¸ä¼ ç»Ÿæ–¹å¼çš„å¯¹æ¯”

| ç‰¹æ€§ | pyproject.toml | requirements.txt |
|------|----------------|------------------|
| æ ‡å‡†åŒ– | âœ… PEP 518 æ ‡å‡† | âŒ éæ ‡å‡†æ ¼å¼ |
| å…ƒæ•°æ®æ”¯æŒ | âœ… å®Œæ•´æ”¯æŒ | âŒ ä¸æ”¯æŒ |
| å¯é€‰ä¾èµ– | âœ… æ”¯æŒ | âŒ ä¸æ”¯æŒ |
| æ„å»ºé…ç½® | âœ… æ”¯æŒ | âŒ ä¸æ”¯æŒ |
| å·¥å…·é…ç½® | âœ… æ”¯æŒ | âŒ ä¸æ”¯æŒ |
| uv æ”¯æŒ | âœ… åŸç”Ÿæ”¯æŒ | âš ï¸ å…¼å®¹æ”¯æŒ |

### ğŸ“ è¿ç§»æŒ‡å—

å¦‚æœæ‚¨éœ€è¦ä» `requirements.txt` è¿ç§»ï¼š

1. **å¯¼å‡ºå½“å‰ä¾èµ–**
   ```bash
   uv pip freeze > requirements.txt
   ```

2. **è½¬æ¢ä¸º pyproject.toml æ ¼å¼**
   ```toml
   [project]
   dependencies = [
       "package1>=1.0.0",
       "package2>=2.0.0",
   ]
   ```

3. **åˆ é™¤ requirements.txt**
   ```bash
   rm requirements.txt
   ```

### ğŸ¯ æœ€ä½³å®è·µ

1. **ä½¿ç”¨ uv ç®¡ç†ä¾èµ–**: `uv add`, `uv remove`, `uv sync`
2. **é”å®šç‰ˆæœ¬**: `uv.lock` æ–‡ä»¶ç¡®ä¿ç¯å¢ƒä¸€è‡´æ€§
3. **åˆ†ç¦»å¼€å‘ä¾èµ–**: ä½¿ç”¨ `[project.optional-dependencies]`
4. **å®šæœŸæ›´æ–°**: `uv lock --upgrade` æ›´æ–°ä¾èµ–ç‰ˆæœ¬

### â“ å¸¸è§é—®é¢˜

**Q: å¦‚æœæŸä¸ªå¹³å°ä¸æ”¯æŒ pyproject.toml æ€ä¹ˆåŠï¼Ÿ**
A: å¯ä»¥ä½¿ç”¨ `uv pip freeze > requirements.txt` ä¸´æ—¶ç”Ÿæˆ

**Q: å¦‚ä½•æŸ¥çœ‹å½“å‰å®‰è£…çš„ä¾èµ–ï¼Ÿ**
A: `uv pip list` æˆ– `uv pip freeze`

**Q: å¦‚ä½•æ›´æ–°æ‰€æœ‰ä¾èµ–ï¼Ÿ**
A: `uv lock --upgrade` ç„¶å `uv sync`

### ğŸŒ Playwright æµè§ˆå™¨é…ç½®

æœ¬é¡¹ç›®ä½¿ç”¨ **Chrome** ä½œä¸º Playwright çš„é»˜è®¤æµè§ˆå™¨ï¼š

#### å®‰è£… Chrome æµè§ˆå™¨
```bash
uv run playwright install chrome
```

#### ä»£ç ä¸­çš„æµè§ˆå™¨é…ç½®
```python
# ä½¿ç”¨ Chromium (Chrome å†…æ ¸)
browser = playwright.chromium.launch(headless=False)
```

#### ä¸ºä»€ä¹ˆé€‰æ‹© Chromeï¼Ÿ
- **æ›´å¥½çš„å…¼å®¹æ€§**: Chrome å†…æ ¸å¯¹ç°ä»£ç½‘é¡µæ”¯æŒæ›´å¥½
- **æ›´å¿«çš„æ€§èƒ½**: Chrome åœ¨è‡ªåŠ¨åŒ–åœºæ™¯ä¸‹æ€§èƒ½æ›´ä¼˜
- **æ›´ç¨³å®šçš„ API**: Chrome çš„ Playwright API æ›´ç¨³å®š
- **æ›´å°çš„å®‰è£…åŒ…**: Chrome å®‰è£…åŒ…ç›¸å¯¹è¾ƒå° 